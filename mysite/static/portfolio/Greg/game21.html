<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<html>
<head>
	<title>Greg's Gambits | Game of 21</title>
	<link href="greg.css" rel="stylesheet" type="text/css" />
<script>
var newgame = 0
	var card1 = 0;
	var card2 = 0;
	var card3 = 0;
	var card4 = 0;
	var dealerscore = 0;
	var yourscore = 0;
function startGame() {
		document.getElementById("buttons").style.display = "block";
		newGame();
}
function newGame() {
	var card1suit = ""
	var card2suit = ""
	var cardshow1 = ""
	var cardshow2 = ""
	card1 = Math.floor(Math.random() * (15 - 1)) + 1;
	card2 = Math.floor(Math.random() * (15 - 1)) + 1;
	card1suit = Math.floor(Math.random() * (5 - 1)) + 1;
	card2suit = Math.floor(Math.random() * (5 - 1)) + 1;
	cardshow1 = card1;
	cardshow2 = card2;
	if ((card1 == 1) || (card1 == 11)) { cardshow1 = "A"; card1 = 11 }
	if ((card2 == 1) || (card2 == 11)) { cardshow2 = "A"; card2 = 11 }
	if (card1 == 12) { cardshow1 = "J"; card1 = 10 }
	if (card2 == 12) { cardshow2 = "J"; card2 = 10 }
	if (card1 == 13) { cardshow1 = "Q"; card1 = 10 }
	if (card2 == 13) { cardshow2 = "Q"; card2 = 10 }
	if (card1 == 14) { cardshow1 = "K"; card1 = 10 }
	if (card2 == 14) { cardshow2 = "K"; card2 = 10 }
	if (card1suit == 1) { card1suit = "&hearts;" }
	if (card1suit == 2) { card1suit = "&spades;" }
	if (card1suit == 3) { card1suit = "&diams;" }
	if (card1suit == 4) { card1suit = "&clubs;" }
	if (card2suit == 1) { card2suit = "&hearts;" }
	if (card2suit == 2) { card2suit = "&spades;" }
	if (card2suit == 3) { card2suit = "&diams;" }
	if (card2suit == 4) { card2suit = "&clubs;" }
	document.getElementById("card1").innerHTML = cardshow1 + card1suit;
	document.getElementById("card2").innerHTML = cardshow2 + card2suit;
	document.getElementById("yourtotal").innerHTML = card1 + card2;	
	var card3suit = ""
	var card4suit = ""
	var cardshow3 = ""
	var cardshow4 = ""
	card3 = Math.floor(Math.random() * (15 - 1)) + 1;
	card4 = Math.floor(Math.random() * (15 - 1)) + 1;
	card3suit = Math.floor(Math.random() * (5 - 1)) + 1;
	card4suit = Math.floor(Math.random() * (5 - 1)) + 1;
	cardshow3 = card3;
	cardshow4 = card4;
	if ((card3 == 1) || (card3 == 11)) { cardshow3 = "A"; card3 = 11 }
	if ((card4 == 1) || (card4 == 11)) { cardshow4 = "A"; card4 = 11 }
	if (card3 == 12) { cardshow3 = "J"; card3 = 10 }
	if (card4 == 12) { cardshow4 = "J"; card4 = 10 }
	if (card3 == 13) { cardshow3 = "Q"; card3 = 10 }
	if (card4 == 13) { cardshow4 = "Q"; card4 = 10 }
	if (card3 == 14) { cardshow3 = "K"; card3 = 10 }
	if (card4 == 14) { cardshow4 = "K"; card4 = 10 }
	if (card3suit == 1) { card3suit = "&hearts;" }
	if (card3suit == 2) { card3suit = "&spades;" }
	if (card3suit == 3) { card3suit = "&diams;" }
	if (card3suit == 4) { card3suit = "&clubs;" }
	if (card4suit == 1) { card4suit = "&hearts;" }
	if (card4suit == 2) { card4suit = "&spades;" }
	if (card4suit == 3) { card4suit = "&diams;" }
	if (card4suit == 4) { card4suit = "&clubs;" }
	document.getElementById("card3").innerHTML = cardshow3 + card3suit;
	document.getElementById("card4").innerHTML = cardshow4 + card4suit;
	document.getElementById("dealertotal").innerHTML = card3 + card4;
	document.getElementById("card3").style.visibility = "hidden";
	document.getElementById("card4").style.visibility = "hidden";
	document.getElementById("dealertotal").style.visibility = "hidden";
	if (card1 + card2 >= 21) checkScore();
}
function checkScore() {
	document.getElementById("card3").style.visibility = "visible";
	document.getElementById("card4").style.visibility = "visible";
	document.getElementById("dealertotal").style.visibility = "visible";
	if (card1 + card2 == card3 + card4) { 
		document.getElementById("message").innerHTML = "TIE!"
		document.getElementById("message").style.display = "block";
		setTimeout(function() { countScore(0); }, 2000);
	}
	else if (card1 + card2 >= 22) {
		document.getElementById("message").innerHTML = "YOU LOOSE!"
		document.getElementById("message").style.display = "block";
		setTimeout(function() { countScore(2); }, 2000);
	}
	else if (card1 + card2 == 21) {
		document.getElementById("message").innerHTML = "YOU WIN!"
		document.getElementById("message").style.display = "block";
		setTimeout(function() { countScore(1); }, 2000);
	}
	else if (card1 + card2 > card3 + card4) {
		document.getElementById("message").innerHTML = "YOU WIN!"
		document.getElementById("message").style.display = "block";
		setTimeout(function() { countScore(1); }, 2000);
	}
	else if (card3 + card4 > 21) {
		document.getElementById("message").innerHTML = "YOU WIN!"
		document.getElementById("message").style.display = "block";
		setTimeout(function() { countScore(1); }, 2000);
	}
	else {
		document.getElementById("message").innerHTML = "YOU LOOSE!"
		document.getElementById("message").style.display = "block";
		setTimeout(function() { countScore(2); }, 2000);
	}
	document.getElementById("hitme").disabled = true;
	document.getElementById("stick").disabled = true;
}
function hitMe() {
	var card5suit = ""
	var cardshow5 = ""
	var card5 = 0
	card5 = Math.floor(Math.random() * (15 - 1)) + 1;
	card5suit = Math.floor(Math.random() * (5 - 1)) + 1;
	cardshow5 = card5;
	if ((card5 == 1) || (card5 == 11)) { cardshow5 = "A"; card5 = 11 }
	if (card5 == 12) { cardshow5 = "J"; card5 = 10 }
	if (card5 == 13) { cardshow5 = "Q"; card5 = 10 }
	if (card5 == 14) { cardshow5 = "K"; card5 = 10 }
	if (card5suit == 1) { card5suit = "&hearts;" }
	if (card5suit == 2) { card5suit = "&spades;" }
	if (card5suit == 3) { card5suit = "&diams;" }
	if (card5suit == 4) { card5suit = "&clubs;" }
	document.getElementById("card1").innerHTML = cardshow5 + card5suit;
	card1 = card1 + card5
	document.getElementById("yourtotal").innerHTML = card1 + card2;	
	if (card1 + card2 >= 21) checkScore();
}
function stick() {
	checkScore();
}
function countScore(winner) {
	document.getElementById("message").style.display = "none";
	if (winner == 1) { yourscore = yourscore + card1 + card2; document.getElementById("yourscore").innerHTML = yourscore; }
	if (winner == 2) { dealerscore = dealerscore + card3 + card4; document.getElementById("dealerscore").innerHTML = dealerscore; }
	document.getElementById("hitme").disabled = false;
	document.getElementById("stick").disabled = false;
	newGame();
}
</script>
<style>
.card {
border:1px solid;
width:150px;
height:190px;
float:left; 
position: relative;
font-size: 50px;
padding-top: 15px;
}
#button {
margin-left:20px;
margin-right:20px;
position: relative;
display: block;
width: 120px;
float: left;
}
#spacing {
margin-left:20px;
margin-right:20px;
position: relative;
display: block;
width: 120px;
float: left;
border: 1px solid;
border-color: #000040;
}
.header {
width: 250px;
text-align: center;
float: left;
font-size: 20px;
}
#message {
position: absolute;
display:none;
font-size: 80px;
color: purple;
text-align: center;
width: 50%;
height: 200px;
}

</style>

</head>

<body>
<div id="container">
 <img src="images/superhero.jpg" width="120" height="120" class="floatleft" />
 <h1 align="center"><em>Game of 21</em></h1>

<div style ="clear:both;"></div>  
<div id="nav">
  <p><a href="#">Home</a>
  <a href="#">About Greg</a>
  <a href="#">Play a Game</a>
  <a href="#">Sign In</a>
  <a href="#">Contact Us</a></p>
</div>
<div id="content">
<input type="button" id="start" value="Let's Play!" onclick="startGame()"; />
<br>
<div id="buttons" style="display:none"><br><br>
<div class="header">You: <span id="yourscore">0</span></div>
<div id="button">
<input type="button" id="hitme" value="Hit Me!" onclick="hitMe()"; />
<input type="button" id="stick" value="Stick!" onclick="stick()"; />
</div>

<div class="header" style="float:left">Dealer: <span id="dealerscore">0</span></div><br><br>

<div class="card" id="card1">
A&hearts;
</div>
<div class="card" id="card2">
A&diams;
</div>

<div class="card" style="margin-left:80px;" id="card3">
A&spades;
</div>
<div class="card" id="card4">
A&clubs;
</div>
<div class="header">Total: <span id="yourtotal">0</span></div>
<div id="spacing">
</div>

<div class="header" style="float:left">Total: <span id="dealertotal">0</span></div><br><br>

</div>
<div id="message">YOU WIN!</div>
</div>
<div id="footer">Copyright &copy; 2013 Greg's Gambits<br />
<a href="mailto:yourfirstname@yourlastname.com">yourfirstname@yourlastname.com</a>
</div>
</div>
</body>
</html>
